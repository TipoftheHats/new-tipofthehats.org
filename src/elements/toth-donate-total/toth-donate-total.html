<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="toth-donate-total">
	<template>
		<style>
			:host {
				@apply --layout-vertical;
				@apply --layout-center-center;
				@apply --layout-flex-none;
				width: 100%;
				background-color: #8e8e8e;
				color: #fff;
				font-weight: 400;
				padding: 15px 0;
				text-shadow: 3px 3px 2px #444;
			}

			#total-label {
				font-size: 24px;
			}

			#total-amount {
				font-size: 42px;
				line-height: 0.85;
			}

			@media (min-width: 1000px) {
				#total-amount {
					font-size: 84px;
					line-height: 0.85;
				}
			}
		</style>

		<iron-ajax
				id="totalAjax"
				auto
				url="https://tracker.tipofthehats.org/[[eventId]]?json"
				handle-as="json"
				last-response="{{stats}}"
				debounce-duration="300"></iron-ajax>

		<div id="total-label">#TotH2018 total raised:</div>
		<div id="total-amount">[[_formatTotal(stats.agg.amount)]]</div>
	</template>

	<script src="toth-donate-total.js"></script>
</dom-module>
